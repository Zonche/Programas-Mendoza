REM ESTA ES LA SUBRUTINA QUE CREA EL CONO

REM ESTOS SON LOS DATOS QUE DEFINEN A LA PIRAMIDE:
REM ALTURA: SU ALTURA EN PIXEL (REFERIDA A UNA PANTALLA DE 640 x 480)
REM RADIO: RADIO DE LA BASE
REM PASO: NUMERO DE LADOS PARA LA BASE

ALTURA = 250
RADIO = 75
PASO = 15

REM CALCULAMOS LAS CONSTANTES

PI = 3.141591 / 180
TOTV = PASO + 1
DIM V(TOTV, 2)
ALT = ALTURA / -2
CUENTA = 0
PASO2 = 360 / PASO

REM CALCULAMOS LOS VERTICES DE LA PIRAMIDE

REM EL PRIMER VERTICE ES LA PUNTA DE LA PIRAMIDE

V(CUENTA, 0) = 0
V(CUENTA, 1) = ALT
V(CUENTA, 2) = 0
CUENTA = CUENTA + 1

FOR N = 0 TO 360 - (PASO2 / 2) STEP PASO2
     GRADO = N * PI
     V(CUENTA, 0) = RADIO * SIN(GRADO)
     V(CUENTA, 1) = -ALT
     V(CUENTA, 2) = RADIO * COS(GRADO)
     CUENTA = CUENTA + 1
NEXT N

REM CALCULAMOS LOS LADOS DE LA BASE
REM HAY PASO+1 CARAS, PUES HAY QUE INCLUIR LA BASE

TOTL = PASO + 1
DIM L(TOTL, PASO)

REM ASIGNAMOS A LA BASE TANTOS LADOS COMO PASOS DIMOS

L(0, 0) = PASO

REM ASIGNAMOS LOS VERTICES A LA BASE

FOR N = 1 TO PASO
     L(0, N) = PASO - N + 1
NEXT N

REM ASIGNAMOS LOS VERTICES A LOS LADOS

FOR N = 1 TO PASO
     SIG = N + 1
     IF SIG = PASO + 1 THEN
          SIG = 1
     END IF
    
     REM 3 LADOS
    
     L(N, 0) = 3
    
     REM DESDE EL VERTICE DE LA PIRAMIDE
    
     L(N, 1) = 0
    
     REM AL VERTICE N DE LA BASE
    
     L(N, 2) = N
    
     REM Y AL VERTICE N+1 DE LA BASE
    
     L(N, 3) = SIG
NEXT N

